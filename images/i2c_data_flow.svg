<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.2 (20250808.2320)
 -->
<!-- Title: I2C_Data_Flow Pages: 1 -->
<svg width="493pt" height="771pt"
 viewBox="0.00 0.00 493.00 771.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 767.26)">
<title>I2C_Data_Flow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-767.26 489,-767.26 489,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="242.5" y="-745.96" font-family="Arial Bold" font-size="14.00">I2C Multi&#45;Device Communication</text>
<g id="clust1" class="cluster">
<title>cluster_esp32</title>
<polygon fill="#e6f3ff" stroke="black" points="8,-171.89 8,-731.51 195,-731.51 195,-171.89 8,-171.89"/>
<text xml:space="preserve" text-anchor="middle" x="101.5" y="-714.21" font-family="Times New Roman,serif" font-size="14.00">ESP32 (I2C Master)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_bus</title>
<polygon fill="#f5f5f5" stroke="black" points="203,-108.5 203,-320.51 477,-320.51 477,-108.5 203,-108.5"/>
<text xml:space="preserve" text-anchor="middle" x="340" y="-303.21" font-family="Times New Roman,serif" font-size="14.00">I2C Bus (Shared)</text>
</g>
<!-- app -->
<g id="node1" class="node">
<title>app</title>
<polygon fill="#87ceeb" stroke="black" points="132.5,-674.51 59.5,-674.51 59.5,-638.51 132.5,-638.51 132.5,-674.51"/>
<text xml:space="preserve" text-anchor="middle" x="96" y="-659.01" font-family="Arial" font-size="10.00">Application</text>
<text xml:space="preserve" text-anchor="middle" x="96" y="-647.01" font-family="Arial" font-size="10.00">i2c_cmd_link</text>
</g>
<!-- i2c_ctrl -->
<g id="node2" class="node">
<title>i2c_ctrl</title>
<polygon fill="#98fb98" stroke="black" points="146,-558.01 46,-558.01 46,-522.01 146,-522.01 146,-558.01"/>
<text xml:space="preserve" text-anchor="middle" x="96" y="-542.51" font-family="Arial" font-size="10.00">I2C Controller</text>
<text xml:space="preserve" text-anchor="middle" x="96" y="-530.51" font-family="Arial" font-size="10.00">Clock/Data Control</text>
</g>
<!-- app&#45;&gt;i2c_ctrl -->
<g id="edge1" class="edge">
<title>app&#45;&gt;i2c_ctrl</title>
<path fill="none" stroke="blue" stroke-width="2" d="M96,-638.12C96,-620.36 96,-592.45 96,-571.1"/>
<polygon fill="blue" stroke="blue" stroke-width="2" points="99.5,-571.22 96,-561.22 92.5,-571.22 99.5,-571.22"/>
<text xml:space="preserve" text-anchor="middle" x="122.25" y="-577.96" font-family="Arial" font-size="9.00">1. Command</text>
</g>
<!-- gpio_matrix -->
<g id="node3" class="node">
<title>gpio_matrix</title>
<polygon fill="#dda0dd" stroke="black" points="141.5,-475.51 50.5,-475.51 50.5,-439.51 141.5,-439.51 141.5,-475.51"/>
<text xml:space="preserve" text-anchor="middle" x="96" y="-460.01" font-family="Arial" font-size="10.00">GPIO Matrix</text>
<text xml:space="preserve" text-anchor="middle" x="96" y="-448.01" font-family="Arial" font-size="10.00">SCL/SDA Router</text>
</g>
<!-- i2c_ctrl&#45;&gt;gpio_matrix -->
<g id="edge2" class="edge">
<title>i2c_ctrl&#45;&gt;gpio_matrix</title>
<path fill="none" stroke="green" stroke-width="2" d="M96,-521.54C96,-511.94 96,-499.77 96,-488.68"/>
<polygon fill="green" stroke="green" stroke-width="2" points="99.5,-488.97 96,-478.97 92.5,-488.97 99.5,-488.97"/>
<text xml:space="preserve" text-anchor="middle" x="123.38" y="-495.46" font-family="Arial" font-size="9.00">2. Clock/Data</text>
</g>
<!-- iomux_scl -->
<g id="node4" class="node">
<title>iomux_scl</title>
<polygon fill="#ffb6c1" stroke="black" points="75,-393.01 21,-393.01 21,-357.01 75,-357.01 75,-393.01"/>
<text xml:space="preserve" text-anchor="middle" x="48" y="-377.51" font-family="Arial" font-size="10.00">IO MUX</text>
<text xml:space="preserve" text-anchor="middle" x="48" y="-365.51" font-family="Arial" font-size="10.00">SCL Pin</text>
</g>
<!-- gpio_matrix&#45;&gt;iomux_scl -->
<g id="edge3" class="edge">
<title>gpio_matrix&#45;&gt;iomux_scl</title>
<path fill="none" stroke="purple" d="M64.03,-439.17C57.9,-434.3 52.3,-428.41 48.75,-421.51 46.13,-416.42 44.94,-410.57 44.57,-404.79"/>
<polygon fill="purple" stroke="purple" points="48.07,-404.89 44.75,-394.83 41.07,-404.76 48.07,-404.89"/>
<text xml:space="preserve" text-anchor="middle" x="78.38" y="-412.96" font-family="Arial" font-size="9.00">3a. SCL Route</text>
</g>
<!-- iomux_sda -->
<g id="node5" class="node">
<title>iomux_sda</title>
<polygon fill="#ffb6c1" stroke="black" points="159,-393.01 105,-393.01 105,-357.01 159,-357.01 159,-393.01"/>
<text xml:space="preserve" text-anchor="middle" x="132" y="-377.51" font-family="Arial" font-size="10.00">IO MUX</text>
<text xml:space="preserve" text-anchor="middle" x="132" y="-365.51" font-family="Arial" font-size="10.00">SDA Pin</text>
</g>
<!-- gpio_matrix&#45;&gt;iomux_sda -->
<g id="edge4" class="edge">
<title>gpio_matrix&#45;&gt;iomux_sda</title>
<path fill="none" stroke="purple" d="M103.81,-439.04C108.43,-428.7 114.39,-415.38 119.64,-403.64"/>
<polygon fill="purple" stroke="purple" points="122.7,-405.38 123.59,-394.82 116.31,-402.52 122.7,-405.38"/>
<text xml:space="preserve" text-anchor="middle" x="146.16" y="-412.96" font-family="Arial" font-size="9.00">3b. SDA Route</text>
</g>
<!-- pin_scl -->
<g id="node6" class="node">
<title>pin_scl</title>
<ellipse fill="#ffa07a" stroke="black" cx="54" cy="-218.25" rx="38.36" ry="38.36"/>
<text xml:space="preserve" text-anchor="middle" x="54" y="-220.75" font-family="Arial" font-size="10.00">GPIO 22</text>
<text xml:space="preserve" text-anchor="middle" x="54" y="-208.75" font-family="Arial" font-size="10.00">(SCL)</text>
</g>
<!-- iomux_scl&#45;&gt;pin_scl -->
<g id="edge5" class="edge">
<title>iomux_scl&#45;&gt;pin_scl</title>
<path fill="none" stroke="red" d="M48.68,-356.56C49.5,-335.25 50.93,-298.32 52.11,-268.12"/>
<polygon fill="red" stroke="red" points="55.59,-268.57 52.48,-258.44 48.6,-268.3 55.59,-268.57"/>
<text xml:space="preserve" text-anchor="middle" x="67.98" y="-330.46" font-family="Arial" font-size="9.00">4a. Drive</text>
</g>
<!-- pin_sda -->
<g id="node7" class="node">
<title>pin_sda</title>
<ellipse fill="#ffa07a" stroke="black" cx="149" cy="-218.25" rx="38.36" ry="38.36"/>
<text xml:space="preserve" text-anchor="middle" x="149" y="-220.75" font-family="Arial" font-size="10.00">GPIO 21</text>
<text xml:space="preserve" text-anchor="middle" x="149" y="-208.75" font-family="Arial" font-size="10.00">(SDA)</text>
</g>
<!-- iomux_sda&#45;&gt;pin_sda -->
<g id="edge6" class="edge">
<title>iomux_sda&#45;&gt;pin_sda</title>
<path fill="none" stroke="red" d="M133.92,-356.56C136.27,-335.18 140.34,-298.08 143.66,-267.83"/>
<polygon fill="red" stroke="red" points="147.12,-268.44 144.73,-258.12 140.16,-267.68 147.12,-268.44"/>
<text xml:space="preserve" text-anchor="middle" x="154.93" y="-330.46" font-family="Arial" font-size="9.00">4b. Drive</text>
</g>
<!-- scl_line -->
<g id="node8" class="node">
<title>scl_line</title>
<text xml:space="preserve" text-anchor="middle" x="153" y="-24.5" font-family="Arial" font-size="10.00">SCL Line</text>
<text xml:space="preserve" text-anchor="middle" x="153" y="-12.5" font-family="Arial" font-size="10.00">(Clock)</text>
</g>
<!-- pin_scl&#45;&gt;scl_line -->
<g id="edge7" class="edge">
<title>pin_scl&#45;&gt;scl_line</title>
<path fill="none" stroke="orange" stroke-width="2" d="M71.02,-183.86C90.36,-145.91 121.54,-84.73 139.35,-49.78"/>
<polygon fill="orange" stroke="orange" stroke-width="2" points="141.63,-53.02 143.05,-42.52 135.39,-49.84 141.63,-53.02"/>
<text xml:space="preserve" text-anchor="middle" x="129.78" y="-105.2" font-family="Arial" font-size="9.00">Clock</text>
</g>
<!-- sda_line -->
<g id="node9" class="node">
<title>sda_line</title>
<text xml:space="preserve" text-anchor="middle" x="339" y="-111" font-family="Arial" font-size="10.00">SDA Line</text>
<text xml:space="preserve" text-anchor="middle" x="339" y="-99" font-family="Arial" font-size="10.00">(Data)</text>
</g>
<!-- pin_sda&#45;&gt;sda_line -->
<g id="edge8" class="edge">
<title>pin_sda&#45;&gt;sda_line</title>
<path fill="none" stroke="orange" stroke-width="2" d="M156.92,-180.41C161.47,-167.34 168.56,-153.62 179.5,-144.5 197.43,-129.56 258.26,-119.36 299.4,-113.98"/>
<polygon fill="orange" stroke="orange" stroke-width="2" points="298.2,-117.66 307.69,-112.94 297.33,-110.72 298.2,-117.66"/>
<text xml:space="preserve" text-anchor="middle" x="189.25" y="-146.45" font-family="Arial" font-size="9.00">Data</text>
</g>
<!-- device1 -->
<g id="node11" class="node">
<title>device1</title>
<polygon fill="#90ee90" stroke="black" points="377,-44 301,-44 301,0 377,0 377,-44"/>
<text xml:space="preserve" text-anchor="middle" x="339" y="-30.5" font-family="Arial" font-size="10.00">Device 1</text>
<text xml:space="preserve" text-anchor="middle" x="339" y="-18.5" font-family="Arial" font-size="10.00">Addr: 0x48</text>
<text xml:space="preserve" text-anchor="middle" x="339" y="-6.5" font-family="Arial" font-size="10.00">(Temperature)</text>
</g>
<!-- scl_line&#45;&gt;device1 -->
<g id="edge9" class="edge">
<title>scl_line&#45;&gt;device1</title>
<path fill="none" stroke="gray" d="M174.78,-39.98C187.65,-49.42 204.77,-60.03 222,-64.96 247.98,-72.38 276.45,-62.34 298.81,-50.11"/>
<polygon fill="gray" stroke="gray" points="300.43,-53.21 307.31,-45.15 296.91,-47.17 300.43,-53.21"/>
<text xml:space="preserve" text-anchor="middle" x="231" y="-63.95" font-family="Arial" font-size="9.00">CLK</text>
</g>
<!-- device2 -->
<g id="node12" class="node">
<title>device2</title>
<polygon fill="#90ee90" stroke="black" points="458.62,-44 395.38,-44 395.38,0 458.62,0 458.62,-44"/>
<text xml:space="preserve" text-anchor="middle" x="427" y="-30.5" font-family="Arial" font-size="10.00">Device 2</text>
<text xml:space="preserve" text-anchor="middle" x="427" y="-18.5" font-family="Arial" font-size="10.00">Addr: 0x76</text>
<text xml:space="preserve" text-anchor="middle" x="427" y="-6.5" font-family="Arial" font-size="10.00">(Pressure)</text>
</g>
<!-- scl_line&#45;&gt;device2 -->
<g id="edge10" class="edge">
<title>scl_line&#45;&gt;device2</title>
<path fill="none" stroke="gray" d="M180.91,-38.27C199.52,-48.15 224.89,-59.81 249,-64.96 287.9,-73.27 301.85,-72.81 384.5,-44.05"/>
<polygon fill="gray" stroke="gray" points="385.5,-47.41 393.78,-40.8 383.19,-40.8 385.5,-47.41"/>
<text xml:space="preserve" text-anchor="middle" x="258" y="-63.95" font-family="Arial" font-size="9.00">CLK</text>
</g>
<!-- device3 -->
<g id="node13" class="node">
<title>device3</title>
<polygon fill="#90ee90" stroke="black" points="282.75,-44 217.25,-44 217.25,0 282.75,0 282.75,-44"/>
<text xml:space="preserve" text-anchor="middle" x="250" y="-30.5" font-family="Arial" font-size="10.00">Device 3</text>
<text xml:space="preserve" text-anchor="middle" x="250" y="-18.5" font-family="Arial" font-size="10.00">Addr: 0x3C</text>
<text xml:space="preserve" text-anchor="middle" x="250" y="-6.5" font-family="Arial" font-size="10.00">(OLED)</text>
</g>
<!-- scl_line&#45;&gt;device3 -->
<g id="edge11" class="edge">
<title>scl_line&#45;&gt;device3</title>
<path fill="none" stroke="gray" d="M181.06,-22C188.66,-22 197.09,-22 205.37,-22"/>
<polygon fill="gray" stroke="gray" points="205.35,-25.5 215.35,-22 205.35,-18.5 205.35,-25.5"/>
<text xml:space="preserve" text-anchor="middle" x="199.25" y="-26.95" font-family="Arial" font-size="9.00">CLK</text>
</g>
<!-- sda_line&#45;&gt;device1 -->
<g id="edge12" class="edge">
<title>sda_line&#45;&gt;device1</title>
<path fill="none" stroke="blue" d="M339,-90.81C339,-80.85 339,-67.86 339,-55.92"/>
<polygon fill="blue" stroke="blue" points="342.5,-55.99 339,-45.99 335.5,-55.99 342.5,-55.99"/>
<text xml:space="preserve" text-anchor="middle" x="350.25" y="-63.95" font-family="Arial" font-size="9.00">DATA</text>
</g>
<!-- sda_line&#45;&gt;device2 -->
<g id="edge13" class="edge">
<title>sda_line&#45;&gt;device2</title>
<path fill="none" stroke="blue" d="M356.39,-90.81C367.83,-79.81 383.13,-65.12 396.56,-52.23"/>
<polygon fill="blue" stroke="blue" points="398.75,-54.98 403.54,-45.52 393.9,-49.93 398.75,-54.98"/>
<text xml:space="preserve" text-anchor="middle" x="396.89" y="-63.95" font-family="Arial" font-size="9.00">DATA</text>
</g>
<!-- sda_line&#45;&gt;device3 -->
<g id="edge14" class="edge">
<title>sda_line&#45;&gt;device3</title>
<path fill="none" stroke="blue" d="M321.42,-90.81C309.84,-79.81 294.36,-65.12 280.78,-52.23"/>
<polygon fill="blue" stroke="blue" points="283.38,-49.87 273.72,-45.52 278.56,-54.94 283.38,-49.87"/>
<text xml:space="preserve" text-anchor="middle" x="311.08" y="-63.95" font-family="Arial" font-size="9.00">DATA</text>
</g>
<!-- pullup -->
<g id="node10" class="node">
<title>pullup</title>
<polygon fill="#ffff99" stroke="black" points="340,-263.51 211.31,-195.63 468.69,-195.63 340,-263.51"/>
<text xml:space="preserve" text-anchor="middle" x="340" y="-220.75" font-family="Arial" font-size="10.00">Pull&#45;up Resistors</text>
<text xml:space="preserve" text-anchor="middle" x="340" y="-208.75" font-family="Arial" font-size="10.00">4.7kΩ</text>
</g>
<!-- pullup&#45;&gt;scl_line -->
<g id="edge15" class="edge">
<title>pullup&#45;&gt;scl_line</title>
<path fill="none" stroke="yellow" stroke-dasharray="5,2" d="M318.91,-195.35C283.84,-158.91 213.72,-86.08 176.88,-47.81"/>
<polygon fill="yellow" stroke="yellow" points="179.63,-45.61 170.17,-40.84 174.58,-50.47 179.63,-45.61"/>
</g>
<!-- pullup&#45;&gt;sda_line -->
<g id="edge16" class="edge">
<title>pullup&#45;&gt;sda_line</title>
<path fill="none" stroke="yellow" stroke-dasharray="5,2" d="M339.8,-195.19C339.64,-178.58 339.43,-155.69 339.26,-137.74"/>
<polygon fill="yellow" stroke="yellow" points="342.76,-137.73 339.17,-127.76 335.76,-137.79 342.76,-137.73"/>
</g>
<!-- sequence -->
<g id="node14" class="node">
<title>sequence</title>
<polygon fill="#fffacd" stroke="black" points="349.25,-708.51 202.75,-708.51 202.75,-604.51 355.25,-604.51 355.25,-702.51 349.25,-708.51"/>
<polyline fill="none" stroke="black" points="349.25,-708.51 349.25,-702.51"/>
<polyline fill="none" stroke="black" points="355.25,-702.51 349.25,-702.51"/>
<text xml:space="preserve" text-anchor="middle" x="279" y="-695.01" font-family="Arial" font-size="10.00">I2C Communication Sequence:</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-683.01" font-family="Arial" font-size="10.00">1. START condition</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-671.01" font-family="Arial" font-size="10.00">2. Device address (7&#45;bit)</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-659.01" font-family="Arial" font-size="10.00">3. R/W bit</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-647.01" font-family="Arial" font-size="10.00">4. ACK from slave</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-635.01" font-family="Arial" font-size="10.00">5. Data byte(s)</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-623.01" font-family="Arial" font-size="10.00">6. ACK after each byte</text>
<text xml:space="preserve" text-anchor="middle" x="279" y="-611.01" font-family="Arial" font-size="10.00">7. STOP condition</text>
</g>
</g>
</svg>
